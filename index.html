<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Registro de Ponto</title>
    <link rel="stylesheet" href="estilo.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#121212">
    <link rel="icon" href="icon-192.png">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <meta name="theme-color" content="#121212">
    
</head>
<body class="escuro">
    <h1>Registro de Ponto</h1>

    <div id="loginContainer">
        <input type="text" id="usuario" placeholder="Digite seu usuário">
        <button onclick="login()">Entrar</button>
        <button id="alternarTema">Tema</button>
    </div>

    <div id="pontoContainer" style="display: none;">
        <p>Usuário logado: <span id="usuarioLogado"></span></p>
        <button onclick="logoff()">Sair</button>
        
        <br><br>

        <div class="botoes">
            <button onclick="registrar('Entrada')">Registrar Entrada</button>
            <button onclick="registrar('Saída para Almoço')">Saída para Almoço</button>
            <button onclick="registrar('Retorno do Almoço')">Retorno do Almoço</button>
            <button onclick="registrar('Saída')">Registrar Saída</button>
            <button onclick="registrar('Hora Extra')">Registrar Hora Extra</button>
            <button onclick="limparRegistros()">Limpar Registros</button>
            <button onclick="exportarCSV()">Exportar CSV</button>
        </div>

        <h2>Último Registro</h2>
        <p id="ultimoRegistro">Nenhum registro encontrado</p>

        <h2>Registros Diários</h2>
        <table id="historico">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Entrada</th>
                    <th>Saída Almoço</th>
                    <th>Retorno Almoço</th>
                    <th>Saída</th>
                    <th>Hora Extra</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <h2>Total de Horas</h2>
        <p id="totalHorasDiarias">Hoje: 0h</p>
        <p id="totalHorasMensais">Mês: 0h</p>
    </div>

    <script src="registro.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.register('/service-worker.js')
            .then(() => console.log('Service Worker registrado com sucesso!'))
            .catch(error => console.log('Erro ao registrar Service Worker:', error));
        }
      </script>
    <script>
         if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('service-worker.js')
            .then(reg => console.log('Service Worker registrado!', reg))
            .catch(err => console.error('Erro ao registrar Service Worker:', err));
        }
      </script>
      
</body>
</html>
